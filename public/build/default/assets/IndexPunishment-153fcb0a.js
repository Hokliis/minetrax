import{u as A,A as B}from"./AppLayout-25549c71.js";import{o as l,d as c,a as t,l as D,q as L,c as x,w as i,k as $,b as n,u as s,_ as C,t as a,j as _,Z as p,n as M,f as y}from"./app-8c45911c.js";import{_ as N}from"./DataTable-443f98d4.js";import{D as h}from"./DtRowItem-21116ea5.js";import{_ as v}from"./CommonStatusBadge-ebe0487a.js";import{r as P}from"./NoSymbolIcon-b95f94a7.js";import{r as V}from"./SpeakerXMarkIcon-6d93f630.js";import{r as I}from"./EyeIcon-40c95033.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Icon-5d6bb77d.js";import"./useAuthorizable-e4e7d001.js";import"./vue-multiselect.esm-29fd1dc2.js";import"./XMarkIcon-52bc571c.js";import"./use-resolve-button-type-07b66917.js";import"./hidden-5fd10e05.js";import"./open-closed-87bece73.js";function T(r,f){return l(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9"})])}function z(r,f){return l(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})])}function O(r,f){return l(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0012 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52l2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 01-2.031.352 5.988 5.988 0 01-2.031-.352c-.483-.174-.711-.703-.59-1.202L18.75 4.971zm-16.5.52c.99-.203 1.99-.377 3-.52m0 0l2.62 10.726c.122.499-.106 1.028-.589 1.202a5.989 5.989 0 01-2.031.352 5.989 5.989 0 01-2.031-.352c-.483-.174-.711-.703-.59-1.202L5.25 4.971z"})])}const S={class:"py-4 px-2 md:py-12 md:px-10 max-w-7xl mx-auto"},E={class:"grid-cols-5 gap-4 mb-4 hidden md:grid"},H={class:"col-span-full md:col-span-1"},R={class:"flex flex-row bg-white dark:bg-cool-gray-800 shadow rounded p-4"},U={class:"flex items-center justify-center flex-shrink-0 h-12 w-12 rounded-xl bg-light-blue-100 dark:bg-opacity-10 text-light-blue-500"},q={class:"flex flex-col flex-grow ml-4"},K={class:"text-sm text-gray-500 dark:text-gray-400"},W={class:"font-bold dark:text-gray-200 text-lg"},Z={class:"col-span-full md:col-span-1"},F={class:"flex flex-row bg-white dark:bg-cool-gray-800 shadow rounded p-4"},G={class:"flex items-center justify-center flex-shrink-0 h-12 w-12 rounded-xl bg-red-100 dark:bg-opacity-10 text-red-500"},J={class:"flex flex-col flex-grow ml-4"},Q={class:"text-sm text-gray-500 dark:text-gray-400"},X={class:"font-bold text-lg dark:text-gray-200"},Y={class:"col-span-full md:col-span-1"},tt={class:"flex flex-row bg-white dark:bg-cool-gray-800 shadow rounded p-4"},et={class:"flex items-center justify-center flex-shrink-0 h-12 w-12 rounded-xl bg-gray-100 dark:bg-opacity-10 text-gray-400"},st={class:"flex flex-col flex-grow ml-4"},at={class:"text-sm text-gray-500 dark:text-gray-400"},ot={class:"font-bold text-lg dark:text-gray-200"},lt={class:"col-span-full md:col-span-1"},rt={class:"flex flex-row bg-white dark:bg-cool-gray-800 shadow rounded p-4"},ct={class:"flex items-center justify-center flex-shrink-0 h-12 w-12 rounded-xl bg-yellow-100 dark:bg-opacity-10 text-yellow-500"},nt={class:"flex flex-col flex-grow ml-4"},it={class:"text-sm text-gray-500 dark:text-gray-400"},dt={class:"font-bold text-lg dark:text-gray-200"},_t={class:"col-span-full md:col-span-1"},ht={class:"flex flex-row bg-white dark:bg-cool-gray-800 shadow rounded p-4"},ut={class:"flex items-center justify-center flex-shrink-0 h-12 w-12 rounded-xl bg-orange-100 dark:bg-opacity-10 text-orange-500"},xt={class:"flex flex-col flex-grow ml-4"},ft={class:"text-sm text-gray-500 dark:text-gray-400"},yt={class:"font-bold text-lg dark:text-gray-200"},pt={class:"flex flex-col md:flex-row md:space-x-4"},mt={class:"px-4 py-3 whitespace-nowrap"},gt={class:"flex items-center"},wt=["content"],kt=["src"],vt={class:"px-4 py-3 whitespace-nowrap"},bt={key:0},jt={class:"flex items-center"},At={class:"flex-shrink-0 h-7 w-7"},Bt=["src"],Dt={class:"ml-2"},Lt={key:0,class:"font-extrabold text-gray-700 dark:text-gray-300"},$t={key:1,class:"text-red-500 italic"},Ct={key:1},Mt={class:"flex items-center"},Nt={class:"flex-shrink-0 h-7 w-7"},Pt=["src"],Vt={class:"ml-2"},It=["content"],Tt={class:"text-red-500 italic"},zt={key:2,class:"flex items-center space-x-2"},Ot=t("img",{class:"h-7 w-7",src:"/images/pc_head.png",alt:""},null,-1),St={class:"text-gray-500 dark:text-gray-400 text-xs font-bold"},Et={key:0},Ht={key:1,class:"text-gray-400 italic"},Rt={class:"px-4 py-3 whitespace-nowrap"},Ut={key:0},qt={class:"flex items-center"},Kt={class:"flex-shrink-0 h-7 w-7"},Wt=["src"],Zt={class:"ml-2"},Ft={key:0,class:"font-extrabold text-gray-700 dark:text-gray-300"},Gt={key:1,class:"text-red-500 italic"},Jt={key:1,class:"flex items-center space-x-2"},Qt=t("img",{class:"h-7 w-7",src:"/images/console_head.png",alt:""},null,-1),Xt={class:"text-gray-500 dark:text-gray-400 text-xs font-bold"},Yt=["title"],te=["title"],ee=["title"],se={key:1,class:"italic text-gray-400"},ae={class:"px-4 py-3 space-x-2 text-sm font-medium text-right whitespace-nowrap"},ke={__name:"IndexPunishment",props:{punishments:Object,countries:Array,filters:Object,metrics:Object},setup(r){const f=r,{__:o}=$(),{formatTimeAgoToNow:m,formatToDayDateString:g}=A(),b=[{key:"id",label:o("#"),sortable:!0,class:"text-left w-12"},{key:"country_id",label:o(""),sortable:!0,class:"text-left w-12",filterable:{key:"country.name",type:"multiselect",options:f.countries,searchable:!0}},{key:"type",sortable:!0,label:o("Type"),filterable:{type:"multiselect",options:["ban","mute","warn","kick"]},class:"text-center w-1/12"},{key:"uuid",sortable:!0,label:o("Player"),filterable:{type:"text",key:"victimPlayer.username"}},{key:"ip_address",sortable:!1,label:o("IP Address"),class:"text-center"},{key:"creator_username",sortable:!1,label:o("Staff"),filterable:{type:"text"}},{key:"reason",sortable:!1,label:o("Reason"),filterable:{type:"text"}},{key:"start_at",sortable:!0,label:o("Date")},{key:"end_at",sortable:!0,label:o("Expires")},{key:"status",label:o("Status"),sortable:!1,class:"text-center",filterable:{type:"select",options:["active","inactive"]}},{key:"actions",label:o(""),sortable:!1,class:"w-1 text-right"}];return(u,oe)=>{const j=D("InertiaLink"),d=L("tippy");return l(),x(B,null,{default:i(()=>[n(C,{title:s(o)("Punishments")},null,8,["title"]),t("div",S,[t("div",E,[t("div",H,[t("div",R,[t("div",U,[n(s(O),{class:"w-6 h-6 stroke-2"})]),t("div",q,[t("div",K,a(s(o)("Punishments")),1),t("div",W,a(r.metrics.total_active_bans+r.metrics.total_active_mutes+r.metrics.total_active_warns)+" / "+a(r.metrics.total_bans+r.metrics.total_mutes+r.metrics.total_warns+r.metrics.total_kicks),1)])])]),t("div",Z,[t("div",F,[t("div",G,[n(s(P),{class:"w-6 h-6 stroke-2"})]),t("div",J,[t("div",Q,a(s(o)("Bans")),1),t("div",X,a(r.metrics.total_active_bans)+" / "+a(r.metrics.total_bans),1)])])]),t("div",Y,[t("div",tt,[t("div",et,[n(s(V),{class:"w-6 h-6 stroke-2"})]),t("div",st,[t("div",at,a(s(o)("Mutes")),1),t("div",ot,a(r.metrics.total_active_mutes)+" / "+a(r.metrics.total_mutes),1)])])]),t("div",lt,[t("div",rt,[t("div",ct,[n(s(z),{class:"w-6 h-6 stroke-2"})]),t("div",nt,[t("div",it,a(s(o)("Warns")),1),t("div",dt,a(r.metrics.total_active_warns)+" / "+a(r.metrics.total_warns),1)])])]),t("div",_t,[t("div",ht,[t("div",ut,[n(s(T),{class:"w-6 h-6 stroke-2"})]),t("div",xt,[t("div",ft,a(s(o)("Kicks")),1),t("div",yt,a(r.metrics.total_kicks),1)])])])]),t("div",pt,[n(N,{class:"bg-white rounded shadow dark:bg-gray-800 w-full",header:b,data:r.punishments,filters:r.filters},{default:i(({item:e})=>[n(h,null,{default:i(()=>[_((l(),x(s(p),{as:"a",href:u.route("player.punishment.show",e.id),class:M(["focus:outline-none cursor-pointer hover:underline",e.is_active?"font-bold dark:text-gray-300":""]),content:s(o)("View details")},{default:i(()=>[y(a(e.id),1)]),_:2},1032,["href","class","content"])),[[d]])]),_:2},1024),t("td",mt,[t("div",gt,[_((l(),c("div",{class:"flex-shrink-0 h-8 w-8 focus:outline-none",content:e.country.name},[t("img",{class:"h-8 w-8",src:e.country.photo_path,alt:""},null,8,kt)],8,wt)),[[d]])])]),n(h,{class:"text-center"},{default:i(()=>[n(v,{status:e.type.value},null,8,["status"])]),_:2},1024),t("td",vt,[e.uuid&&e.victim_player?(l(),c("div",bt,[t("div",jt,[t("div",At,[t("img",{class:"h-7 w-7",src:e.victim_player.avatar_url,alt:""},null,8,Bt)]),t("div",Dt,[_((l(),x(s(p),{as:"a",href:u.route("player.show",e.victim_player.uuid),class:"text-sm font-medium text-gray-900 dark:text-gray-200 focus:outline-none cursor-pointer hover:underline",content:e.victim_player.uuid},{default:i(()=>[e.victim_player.username?(l(),c("span",Lt,a(e.victim_player.username),1)):(l(),c("span",$t,a(s(o)("Unknown")),1))]),_:2},1032,["href","content"])),[[d]])])])])):e.uuid?(l(),c("div",Ct,[t("div",Mt,[t("div",Nt,[t("img",{class:"h-7 w-7",src:u.route("player.avatar.get",e.uuid),alt:""},null,8,Pt)]),t("div",Vt,[_((l(),c("div",{class:"text-sm font-medium text-gray-900 dark:text-gray-200",content:e.uuid},[t("span",Tt,a(s(o)("Unknown")),1)],8,It)),[[d]])])])])):(l(),c("div",zt,[Ot,t("span",St,a(s(o)("IP :punish",{punish:e.type.key})),1)]))]),n(h,{class:"text-center"},{default:i(()=>[e.ip_address||e.masked_ip_address?(l(),c("span",Et,a(e.ip_address||e.masked_ip_address),1)):(l(),c("span",Ht,a(s(o)("None")),1))]),_:2},1024),t("td",Rt,[e.creator_uuid?(l(),c("div",Ut,[t("div",qt,[t("div",Kt,[t("img",{class:"h-7 w-7",src:e.creator_player?e.creator_player.avatar_url:u.route("player.avatar.get",e.creator_uuid),alt:""},null,8,Wt)]),t("div",Zt,[_((l(),x(s(p),{as:"a",href:e.creator_player?u.route("player.show",e.creator_player.uuid):"#",class:"text-sm font-medium text-gray-900 dark:text-gray-200 focus:outline-none cursor-pointer hover:underline",content:e.creator_uuid},{default:i(()=>{var w,k;return[(w=e.creator_player)!=null&&w.username||e.creator_username?(l(),c("span",Ft,a(((k=e.creator_player)==null?void 0:k.username)||e.creator_username),1)):(l(),c("span",Gt,a(s(o)("Unknown")),1))]}),_:2},1032,["href","content"])),[[d]])])])])):(l(),c("div",Jt,[Qt,t("span",Xt,a(s(o)("CONSOLE")),1)]))]),n(h,null,{default:i(()=>[_((l(),c("p",{title:e.reason,class:"truncate w-20"},[y(a(e.reason),1)],8,Yt)),[[d]])]),_:2},1024),n(h,{class:"whitespace-nowrap"},{default:i(()=>[_((l(),c("span",{title:s(g)(e.start_at)},[y(a(s(m)(e.start_at)),1)],8,te)),[[d]])]),_:2},1024),n(h,{class:"whitespace-nowrap"},{default:i(()=>[e.end_at?_((l(),c("span",{key:0,title:s(g)(e.end_at)},[y(a(s(m)(e.end_at)),1)],8,ee)),[[d]]):(l(),c("span",se,a(s(o)("None")),1))]),_:2},1024),n(h,{class:"text-center"},{default:i(()=>[n(v,{status:e.is_active?"active":"inactive"},null,8,["status"])]),_:2},1024),t("td",ae,[_((l(),x(j,{title:s(o)("View details"),as:"a",href:u.route("player.punishment.show",e.id),class:"inline-flex items-center justify-center text-blue-500 hover:text-blue-800"},{default:i(()=>[n(s(I),{class:"inline-block w-5 h-5"})]),_:2},1032,["title","href"])),[[d]])])]),_:1},8,["data","filters"])])])]),_:1})}}};export{ke as default};
